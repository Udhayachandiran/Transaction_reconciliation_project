<!DOCTYPE html>
<html>
<head>
    <title>Reconciliation Results</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .table-container { margin-bottom: 40px; overflow-x: auto; }
        .section-header { background-color: #f8f9fa; padding: 15px; margin-top: 20px; }
        .table { width: 100% !important; }
        .table td, .table th { white-space: nowrap; padding: 8px; }
    </style>
</head>
<body>
    <div class="container-fluid mt-4">
        <h1>Reconciliation Results</h1>
        <a href="/" class="btn btn-secondary mb-3">Upload New Files</a>
        
        <div class="section-header">
            <h3>Summary</h3>
        </div>
        <ul>
            <li>Present in Both (Statement): {{ results.counts.both_statement }} transactions</li>
            <li>Present in Both (Settlement): {{ results.counts.both_settlement }} transactions</li>
            <li>Settlement Only: {{ results.counts.settlement_only }} transactions</li>
            <li>Statement Only: {{ results.counts.statement_only }} transactions</li>
            <li>Variance: {{ results.counts.variance }} transactions</li>
        </ul>
        
        <div class="section-header">
            <h3>Category 5a: Present in Both (Statement View)</h3>
        </div>
        <div class="table-container">
            {{ results.present_in_both_statement|safe }}
        </div>
        
        <div class="section-header">
            <h3>Category 5b: Present in Settlement Only</h3>
        </div>
        <div class="table-container">
            {{ results.present_in_settlement_only|safe }}
        </div>
        
        <div class="section-header">
            <h3>Category 5c: Present in Statement Only</h3>
        </div>
        <div class="table-container">
            {{ results.present_in_statement_only|safe }}
        </div>
        
        <div class="section-header">
            <h3>Step 6: Amount Comparison</h3>
        </div>
        <div class="table-container">
            {{ results.amount_comparison|safe }}
        </div>
        
        <div class="section-header">
            <h3>Step 7: Variance</h3>
        </div>
        <div class="table-container">
            {{ results.variance|safe }}
        </div>
    </div>
</body>
</html>
